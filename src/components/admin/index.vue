<template>
  <div class="row">
    <h1>Admin</h1>
    <hr />
    <div class="col-sm-5">
      <p>
        <strong> Change count:{{ count }} </strong>
      </p>

      <button type="button" class="btn btn-primary me-3" @click="add">+</button>
      <button type="button" class="btn btn-outline-secondary"  @click="subtract">-</button>

      <hr/>
      <p>{{ store.car.brand }}</p>
      <p>{{ store.car.color }}</p>
      <button
        type="button"
        class="btn btn-primary me-3"
        @click="patchState"
      >
        Patch state
      </button>

    </div>
  </div>
</template>

<script setup>
  import { useCounterStore } from '@/stores/counter';
  import { computed } from 'vue';
  const store = useCounterStore();

  const count = computed(()=>store.counter);

  const add = () => store.counter++;
  const subtract = () => store.counter--;

  const patchState = () => {
    store.$patch({
      counter:100,
      car:{
        brand:'Ford',
        color:'Red'
      }
    })
  }

</script>